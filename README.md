# 💰 个人记账软件 - 使用指南

> **一款简单易用的本地记账软件，您的财务数据完全存储在本地电脑上，安全私密！**

---

## 📖 目录

1. [软件介绍](#-软件介绍)
2. [安装步骤](#-安装步骤)
   - [macOS 用户](#macos-用户)
   - [Windows 用户](#windows-用户)
3. [启动软件](#-启动软件)
4. [创建桌面快捷方式](#-创建桌面快捷方式)
5. [软件使用教程](#-软件使用教程)
6. [常见问题](#-常见问题)
7. [数据备份](#-数据备份)

---

## 🌟 软件介绍

这是一款**完全本地化**的个人记账软件，具有以下特点：

- ✅ **隐私安全** - 所有数据存储在您的电脑上，不上传到任何服务器
- ✅ **简单易用** - 界面清晰，操作简单
- ✅ **功能完善** - 支持收支记录、分类管理、统计分析
- ✅ **自动适配** - 支持系统深色/浅色模式

### 主要功能

| 功能 | 说明 |
|------|------|
| 💵 记录收支 | 快速记录每一笔收入和支出 |
| 📊 统计分析 | 饼图展示支出分类，折线图展示收支趋势 |
| 🏷️ 分类管理 | 自定义收支分类（如：餐饮、购物、工资等）|
| 💳 账户管理 | 管理多个账户（现金、银行卡、信用卡等）|
| 📱 首页总览 | 一目了然查看本月/本年收支情况 |

---

## 📥 安装步骤

### macOS 用户

#### 第一步：安装 Python

1. 打开浏览器，访问 [Python 官网下载页面](https://www.python.org/downloads/)
2. 点击黄色的 **「Download Python 3.x.x」** 按钮下载
3. 下载完成后，双击打开 `.pkg` 安装文件
4. 按照提示一直点击 **「继续」**，直到安装完成

**验证安装是否成功：**
1. 按 `Command + 空格` 打开 Spotlight 搜索
2. 输入 `终端` 并按回车打开终端
3. 在终端中输入以下命令并按回车：
   ```
   python3 --version
   ```
4. 如果显示类似 `Python 3.11.x` 的版本号，说明安装成功！

#### 第二步：安装软件依赖

1. 打开终端（按 `Command + 空格`，输入 `终端`）
2. **复制并粘贴**以下命令到终端，然后按回车：

   ```bash
   cd ledger_app && python3 -m venv venv && source venv/bin/activate && pip install -r requirements.txt
   ```

3. 等待安装完成（可能需要几分钟，请耐心等待）
4. 看到安装完成的提示后，您就可以使用软件了！

---

### Windows 用户

#### 第一步：安装 Python

1. 打开浏览器，访问 [Python 官网下载页面](https://www.python.org/downloads/)
2. 点击黄色的 **「Download Python 3.x.x」** 按钮下载
3. 双击打开下载的安装程序
4. ⚠️ **重要！** 在安装界面底部，**务必勾选** `Add Python to PATH`
5. 点击 **「Install Now」** 开始安装
6. 等待安装完成，点击 **「Close」**

**验证安装是否成功：**
1. 按 `Win + R`，输入 `cmd`，按回车打开命令提示符
2. 输入以下命令并按回车：
   ```
   python --version
   ```
3. 如果显示类似 `Python 3.11.x` 的版本号，说明安装成功！

#### 第二步：安装软件依赖

1. 按 `Win + R`，输入 `cmd`，按回车打开命令提示符
2. **复制并粘贴**以下命令，然后按回车：

   ```cmd
   cd ledger_app && python -m venv venv && venv\Scripts\activate && pip install -r requirements.txt
   ```

   > ⚠️ 注意：如果您的软件不在上述路径，请修改 `cd` 后面的路径为您的实际路径

3. 等待安装完成（可能需要几分钟，请耐心等待）
4. 看到安装完成的提示后，您就可以使用软件了！

---

## 🚀 启动软件

### 方法一：使用启动脚本（推荐 ⭐）

我们提供了一键启动脚本，双击即可打开软件：

| 系统 | 启动脚本文件 |
|------|-------------|
| macOS | 双击 `启动记账软件.command` |
| Windows | 双击 `启动记账软件.bat` |

### 方法二：使用命令行启动

**macOS 用户：**
```bash
cd ledger_app
source venv/bin/activate
python src/ledger/main.py
```

**Windows 用户：**
```cmd
cd ledger_app
venv\Scripts\activate
python src\ledger\main.py
```

---

## 🖥️ 创建桌面快捷方式

### macOS 用户（推荐 ⭐）

1. 双击运行 `创建桌面快捷方式.command` 脚本
2. 脚本会自动在桌面创建一个应用程序
3. 您还可以将它拖到 Dock 栏方便使用！

### Windows 用户（推荐 ⭐）

1. 双击运行 `创建桌面快捷方式.bat` 脚本
2. 脚本会自动在桌面创建一个快捷方式
3. 您还可以右键点击快捷方式，选择「固定到任务栏」

### 手动创建（备选方法）

**macOS：**
在 Finder 中找到 `启动记账软件.command`，按住 `Option + Command` 键拖到桌面

**Windows：**
右键点击 `启动记账软件.bat` → 选择「发送到」→「桌面快捷方式」

---

## 📚 软件使用教程

### 首页总览

打开软件后，首页会显示：
- **本月支出/收入/结余** - 大字显示，一目了然
- **本年累计** - 查看全年收支情况
- **环比变化** - 与上月对比（↑表示增加，↓表示减少）

### 记录一笔交易

1. 点击工具栏的 **「新增交易」** 按钮（或按 `Ctrl+N`）
2. 填写交易信息：
   - **类型**：选择「支出」或「收入」
   - **金额**：输入金额（自动显示美元符号）
   - **日期**：选择交易日期
   - **分类**：选择或创建分类（可选）
   - **账户**：选择账户（可选）
   - **备注**：添加备注信息（可选）
3. 点击 **「保存」**

### 编辑/删除交易

- **编辑**：双击交易记录，或选中后按 `Enter` 键
- **删除**：选中交易记录后按 `Delete` 键（会有确认提示）

### 管理分类和账户

1. 点击菜单 **「设置」** → **「分类与账户管理」**
2. 在弹出的窗口中：
   - 添加新分类/账户
   - 编辑现有分类/账户
   - 删除不需要的分类/账户

### 查看统计分析

1. 点击左侧的 **「统计分析」** 标签
2. 选择时间范围（本月/本年/自定义）
3. 查看：
   - **收支汇总** - 总收入、总支出、净结余
   - **支出分类饼图** - 各类支出占比
   - **收支趋势图** - 收入和支出的变化趋势

### 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl + N` | 新增交易 |
| `Enter` | 编辑选中的交易 |
| `Delete` | 删除选中的交易 |
| `Ctrl + Q` | 退出软件 |

---

## ❓ 常见问题

### Q: 双击启动脚本没有反应？

**macOS 用户：**
- 首次运行可能需要授权。右键点击脚本 → 选择「打开」→ 点击「打开」按钮
- 如果提示"无法打开，因为它来自身份不明的开发者"，请到「系统偏好设置」→「安全性与隐私」→ 点击「仍要打开」

**Windows 用户：**
- 如果被安全软件拦截，请选择「允许运行」或「信任此程序」

### Q: 提示"找不到 Python"？

请确保已正确安装 Python，并且：
- **Windows 用户**：安装时勾选了「Add Python to PATH」
- **macOS 用户**：使用 `python3` 而不是 `python`

### Q: 软件打开后是空白的？

这是首次使用的正常情况。软件已预置了一些常用分类（餐饮、购物、工资等），您可以直接开始记录第一笔交易！

### Q: 数据存在哪里？

所有数据存储在软件目录下的 `data/app.db` 文件中。这是一个 SQLite 数据库文件，完全存储在您的本地电脑上。

---

## 💾 数据备份

为了保护您的数据安全，建议定期备份：

### 备份方法

1. 找到软件目录下的 `data` 文件夹
2. 复制整个 `data` 文件夹到安全的位置（如U盘、云盘）

### 恢复数据

1. 将备份的 `data` 文件夹复制回软件目录
2. 覆盖现有的 `data` 文件夹
3. 重新启动软件

---

**感谢使用本软件！祝您记账愉快！** 🎉
